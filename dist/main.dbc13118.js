"use strict";(self.webpackChunkslot_game=self.webpackChunkslot_game||[]).push([[792],{52:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(i(192));t.default=class{constructor(e){this.container=new o.Container,this.generate(e.screen.width,e.screen.height)}show(){this.container.visible=!0;const e=window.setTimeout(this.hide.bind(this),3e3);this.overlay.addListener("pointerdown",(()=>{window.clearTimeout(e),this.hide()}).bind(this))}hide(){this.container.visible=!1}generate(e,t){this.container.visible=!1,this.overlay=new o.Graphics,this.overlay.beginFill(16777215,.001),this.overlay.drawRect(0,0,e,t),this.overlay.endFill(),this.overlay.interactive=!0,this.overlay.buttonMode=!0,this.overlay.cursor="default";const i=new o.Graphics;i.beginFill(149326,.8),i.drawRect(0,0,717.5,400),i.x=70,i.y=(t-i.height)/2,i.endFill();const n=new o.TextStyle({fontFamily:"Arial",fontSize:96,fill:"yellow"}),s=new o.Text("YOU WON!",n);s.x=70+(i.width-s.width)/2,s.y=(t-s.height)/2,this.container.addChild(i,s,this.overlay)}}},156:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),new(n(i(610)).default)},190:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(i(192));t.default=class{constructor(e,t){this.onClick=t,this.activeTexture=e.loader.resources.atlas.textures["BTN_Spin.png"],this.disabledTexture=e.loader.resources.atlas.textures["BTN_Spin_d.png"],this.sprite=new o.Sprite(this.activeTexture),this.init(e.screen.width,e.screen.height)}setEnabled(){this.sprite.texture=this.activeTexture,this.sprite.interactive=!0}setDisabled(){this.sprite.texture=this.disabledTexture,this.sprite.interactive=!1}init(e,t){this.sprite.x=e-(this.sprite.width+37.25),this.sprite.y=(t-this.sprite.height)/2,this.sprite.interactive=!0,this.sprite.buttonMode=!0,this.sprite.addListener("pointerdown",this.onClick)}}},588:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(i(192));t.default=class{constructor(e,t){this.sprites=[],this.appHeight=e.screen.height,this.ticker=e.ticker,this.container=new o.Container,this.textures=[e.loader.resources.atlas.textures["SYM1.png"],e.loader.resources.atlas.textures["SYM2.png"],e.loader.resources.atlas.textures["SYM3.png"],e.loader.resources.atlas.textures["SYM4.png"],e.loader.resources.atlas.textures["SYM5.png"],e.loader.resources.atlas.textures["SYM6.png"]],this.generate(t)}generate(e){this.container.x=230*e;for(let t=0;t<4;t++){const i=new o.Sprite(this.textures[Math.floor(Math.random()*this.textures.length)]);i.scale.set(.8);const n=230-i.width;i.x=10*e+n/2;const s=(this.appHeight-3*i.height)/3,r=i.height+s,a=s/2;i.y=(t-1)*r+a,this.sprites.push(i),this.container.addChild(i)}}spinOneTime(){let e=50,t=!1,i=(this.appHeight-3*this.sprites[0].height)/3/2;return new Promise((n=>{const s=()=>{for(let r=this.sprites.length-1;r>=0;r--){const o=this.sprites[r];if(o.y+e>this.appHeight+i?(t=!0,e=this.appHeight-o.y+i,o.y=-(o.height+i)):o.y+=e,0===r&&t){let e=this.sprites.pop();e&&this.sprites.unshift(e),this.ticker.remove(s),n()}}};this.ticker.add(s)}))}}},608:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(i(192)),h=o(i(588));t.default=class{constructor(e){this.reels=[],this.container=new a.Container;for(let t=0;t<3;t++){const i=new h.default(e,t);this.reels.push(i),this.container.addChild(i.container)}this.container.x=70}async spin(){const e=Date.now(),t=[...this.reels];for await(let i of this.infiniteSpinning(t)){const i=500*(this.reels.length-t.length+1);if(Date.now()>=e+i&&t.shift(),!t.length)break}return this.checkForWin(this.reels.map((e=>e.sprites[2])))}async*infiniteSpinning(e){for(;;){const t=e.map((e=>e.spinOneTime()));await Promise.all(t),this.blessRNG(),yield}}checkForWin(e){const t=new Set;return e.forEach((e=>t.add(e.texture.textureCacheIds[0].split(".")[0]))),1===t.size&&!t.has("SYM1")||2===t.size&&t.has("SYM1")}blessRNG(){this.reels.forEach((e=>{e.sprites[0].texture=e.textures[Math.floor(Math.random()*e.textures.length)]}))}}},610:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(i(192)),h=o(i(919)),c=o(i(190)),l=o(i(952)),u=o(i(608)),d=o(i(646)),f=o(i(52));t.default=class{constructor(){this.app=new a.Application({width:960,height:536}),window.document.body.appendChild(this.app.view),new h.default(this.app,this.init.bind(this))}init(){this.createScene(),this.createPlayButton(),this.createReels(),this.createScoreboard(),this.createVictoryScreen()}createScene(){const e=new l.default(this.app.loader);this.app.stage.addChild(e.sprite)}createPlayButton(){this.playBtn=new c.default(this.app,this.handleStart.bind(this)),this.app.stage.addChild(this.playBtn.sprite)}createReels(){this.reelsContainer=new u.default(this.app),this.app.stage.addChild(this.reelsContainer.container)}createScoreboard(){this.scoreboard=new d.default(this.app),this.app.stage.addChild(this.scoreboard.container)}createVictoryScreen(){this.victoryScreen=new f.default(this.app),this.app.stage.addChild(this.victoryScreen.container)}handleStart(){this.scoreboard.decrement(),this.playBtn.setDisabled(),this.reelsContainer.spin().then(this.processSpinResult.bind(this))}processSpinResult(e){e&&(this.scoreboard.increment(),this.victoryScreen.show()),this.scoreboard.outOfMoney||this.playBtn.setEnabled()}}},646:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(i(192));t.default=class{constructor(e){this.outOfMoney=!1,this.winAmount=0,this.money=100,this.bet=5,this.container=new o.Container,this.generate(e.screen.width,e.screen.height)}decrement(){this.outOfMoney||(this.money-=this.bet,this.moneyText.text=`money: $${this.money}`),this.money-this.bet<0&&(this.outOfMoney=!0)}increment(){this.money+=2*this.bet,this.moneyText.text=`money: $${this.money}`,this.winAmount+=this.bet,this.winAmountText.text=`win: $${this.winAmount}`,this.outOfMoney&&(this.outOfMoney=!1)}generate(e,t){const i=new o.TextStyle({fontFamily:"Arial",fontSize:24,fill:"yellow"});this.moneyText=new o.Text(`money: $${this.money}`,i),this.moneyText.y=5;const n=new o.Text(`bet: $${this.bet}`,i);n.y=this.moneyText.height+10,this.winAmountText=new o.Text(`win: $${this.winAmount}`,i),this.winAmountText.y=n.y+n.height+5,n.x=this.moneyText.x=this.winAmountText.x=10;const s=new o.Graphics;s.beginFill(149326,.8);const r=this.moneyText.height+n.height+this.winAmountText.height+25;s.drawRect(0,0,160,r),s.endFill(),this.container.x=e-s.width-7,this.container.y=t/2+70,this.container.addChild(s,this.moneyText,n,this.winAmountText)}}},919:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(i(192));t.default=class{constructor(e,t){this.loader=e.loader,this.loadAssets(),this.loader.load((()=>{e.stage.removeChild(this.loadingScreen),t()})),this.generateLoadingScreen(e.screen.width,e.screen.height),e.stage.addChild(this.loadingScreen)}loadAssets(){this.loader.add("atlas","./assets/atlas.json")}generateLoadingScreen(e,t){const i=new o.TextStyle({fontFamily:"Arial",fontSize:36,fontWeight:"bold",fill:"#ffffff"}),n=new o.Text("Loading...",i);n.x=(e-n.width)/2,n.y=(t-n.height)/2,this.loadingScreen=n}}},952:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(i(192));t.default=class{constructor(e){this.texture=e.resources.atlas.textures["BG.png"],this.sprite=new o.Sprite(this.texture)}}}},e=>{e.O(0,[192],(()=>e(e.s=156))),e.O()}]);